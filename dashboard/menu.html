// FILE: dashboard/menu.html
<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title data-i18n="title">Menu - Crispy Crown Fried Chicken</title>
  <meta name="description" content="Explore the delicious menu of Crispy Crown Fried Chicken with buckets, burgers, sides, and drinks." />
  <meta property="og:title" content="Menu - Crispy Crown Fried Chicken" />
  <meta property="og:description" content="Explore the delicious menu of Crispy Crown Fried Chicken with buckets, burgers, sides, and drinks." />
  <meta property="og:image" content="https://images.unsplash.com/photo-1606756790138-8c3e3c8f1f5b" />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter&family=Poppins&display=swap');
    * {
      box-sizing: border-box;
    }
    body {
      margin:0; font-family: 'Inter', sans-serif; background:#F7F7F7; color:#111;
      line-height:1.5;
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }
    a {
      color:#D12D2D;
      text-decoration:none;
    }
    a:hover, a:focus {
      text-decoration:underline;
      outline:none;
    }
    header, footer {
      background:#fff;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      padding: 0.75rem 1rem;
      display:flex;
      align-items:center;
      justify-content:space-between;
      position: sticky;
      top:0;
      z-index: 1000;
    }
    .logo img {
      height:40px;
      width:auto;
      display:block;
    }
    nav {
      display:flex;
      align-items:center;
      gap:1rem;
    }
    nav a {
      font-weight:600;
      font-size: 1rem;
      padding: 0.25rem 0.5rem;
      border-radius: 6px;
      transition: background-color 0.3s ease;
    }
    nav a:hover, nav a:focus {
      background: #F5BE3D;
      color:#111;
      outline:none;
    }
    .lang-toggle {
      cursor:pointer;
      font-weight:600;
      user-select:none;
      display:flex;
      gap:0.5rem;
      font-size: 0.9rem;
    }
    .lang-toggle span {
      padding: 0.25rem 0.5rem;
      border-radius: 6px;
      border: 1px solid transparent;
      transition: background-color 0.3s ease, border-color 0.3s ease;
    }
    .lang-toggle span.active {
      background: #D12D2D;
      color: #fff;
      border-color: #D12D2D;
    }
    main {
      flex:1;
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 1rem;
      display:flex;
      flex-direction: column;
      gap: 2rem;
    }
    .filter {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
      user-select:none;
    }
    .filter button {
      background: #fff;
      border: 1.5px solid #D12D2D;
      color: #D12D2D;
      font-weight: 600;
      padding: 0.5rem 1rem;
      border-radius: 30px;
      cursor: pointer;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    .filter button.active, .filter button:hover, .filter button:focus {
      background: #D12D2D;
      color: #fff;
      outline:none;
    }
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(260px,1fr));
      gap: 1.5rem;
    }
    .card {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      padding: 1rem;
      display: flex;
      flex-direction: column;
    }
    .card img {
      width: 100%;
      border-radius: 12px;
      object-fit: cover;
      height: 160px;
      margin-bottom: 1rem;
    }
    .card h3 {
      margin: 0 0 0.5rem 0;
      font-family: 'Poppins', sans-serif;
      font-weight: 700;
      font-size: 1.2rem;
      color: #D12D2D;
      user-select:none;
    }
    .card .desc {
      flex-grow: 1;
      color: #444;
      font-size: 0.95rem;
      margin-bottom: 0.5rem;
      user-select:none;
    }
    .price {
      font-weight: 700;
      font-size: 1rem;
      color: #111;
      margin-bottom: 0.5rem;
      user-select:none;
    }
    .price span {
      font-weight: 400;
      color: #666;
      font-size: 0.9rem;
      margin-left: 0.5rem;
    }
    .calories {
      font-size: 0.85rem;
      color: #999;
      margin-bottom: 0.5rem;
      user-select:none;
    }
    .halal-badge {
      display: inline-block;
      background: #F5BE3D;
      color: #111;
      font-weight: 700;
      font-size: 0.75rem;
      padding: 0.15rem 0.5rem;
      border-radius: 12px;
      margin-bottom: 0.5rem;
      user-select:none;
    }
    .btn-add {
      background: #D12D2D;
      color: #fff;
      border: none;
      padding: 0.5rem 1rem;
      font-weight: 700;
      border-radius: 30px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(209,45,45,0.5);
      transition: background-color 0.3s ease;
      user-select:none;
    }
    .btn-add:hover, .btn-add:focus {
      background: #a02121;
      outline:none;
    }
    footer {
      font-size: 0.9rem;
      color: #444;
      text-align: center;
      padding: 1rem;
      background: #fff;
      box-shadow: 0 -2px 6px rgba(0,0,0,0.05);
      user-select:none;
    }
    /* Responsive */
    @media (max-width: 600px) {
      nav {
        display:none;
      }
      header {
        justify-content: space-between;
      }
      .burger {
        display: block;
        cursor: pointer;
        width: 28px;
        height: 22px;
        position: relative;
      }
      .burger span {
        position: absolute;
        height: 3px;
        width: 100%;
        background: #D12D2D;
        border-radius: 3px;
        transition: 0.3s ease;
      }
      .burger span:nth-child(1) {
        top: 0;
      }
      .burger span:nth-child(2) {
        top: 9px;
      }
      .burger span:nth-child(3) {
        bottom: 0;
      }
      .nav-mobile {
        position: fixed;
        top: 56px;
        right: 0;
        background: #fff;
        width: 200px;
        box-shadow: -2px 0 8px rgba(0,0,0,0.1);
        border-radius: 0 0 0 12px;
        display: none;
        flex-direction: column;
        padding: 1rem;
        z-index: 1100;
      }
      .nav-mobile a {
        padding: 0.5rem 0;
        font-weight: 600;
        color: #D12D2D;
      }
      .nav-mobile a:hover, .nav-mobile a:focus {
        background: #F5BE3D;
        color: #111;
        outline:none;
      }
      .nav-mobile.show {
        display: flex;
      }
    }
  </style>
</head>
<body>
  <header>
    <a href="/dashboard/index.html" class="logo" aria-label="Crispy Crown Fried Chicken Home">
      <img src="https://images.unsplash.com/photo-1604908177522-bb4a0c78c6f1f" alt="Crispy Crown Fried Chicken Logo" />
    </a>
    <nav role="navigation" aria-label="Primary Navigation">
      <a href="/dashboard/index.html" data-i18n="nav.home">Home</a>
      <a href="/dashboard/menu.html" data-i18n="nav.menu">Menu</a>
      <a href="/dashboard/locations.html" data-i18n="nav.locations">Locations</a>
      <a href="/dashboard/about.html" data-i18n="nav.about">About</a>
      <a href="/dashboard/contact.html" data-i18n="nav.contact">Contact</a>
      <a href="/dashboard/cart.html" data-i18n="nav.cart">Cart</a>
      <a href="/dashboard/login.html" id="login-account-link" data-i18n="nav.login">Login</a>
    </nav>
    <div class="lang-toggle" role="group" aria-label="Language toggle">
      <span id="lang-id" tabindex="0" class="active">ID</span> | <span id="lang-en" tabindex="0">EN</span>
    </div>
    <div class="burger" aria-label="Toggle menu" role="button" tabindex="0">
      <span></span><span></span><span></span>
    </div>
  </header>
  <nav class="nav-mobile" aria-label="Mobile Navigation"></nav>
  <main>
    <h1 data-i18n="menu.title">Our Menu</h1>
    <div class="filter" role="list" aria-label="Filter menu categories">
      <button data-filter="all" class="active" data-i18n="menu.filter.all">All</button>
      <button data-filter="buckets" data-i18n="menu.filter.buckets">Buckets</button>
      <button data-filter="burger" data-i18n="menu.filter.burger">Burger</button>
      <button data-filter="sides" data-i18n="menu.filter.sides">Sides</button>
      <button data-filter="drinks" data-i18n="menu.filter.drinks">Drinks</button>
    </div>
    <div class="menu-grid" role="list" aria-label="Menu items">
      <!-- Cards inserted by JS -->
    </div>
  </main>
  <footer>
    &copy; 2024 Crispy Crown Fried Chicken
  </footer>
  <script>
    const translations = {
      en: {
        title: "Menu - Crispy Crown Fried Chicken",
        nav: { home: "Home", menu: "Menu", locations: "Locations", about: "About", contact: "Contact", cart: "Cart", login: "Login", account: "Account" },
        menu: {
          title: "Our Menu",
          filter: { all: "All", buckets: "Buckets", burger: "Burger", sides: "Sides", drinks: "Drinks" },
          add: "Add to Cart",
          halalBadge: "Halal",
          calories: "Calories"
        },
        toast: {
          added: "Added to cart"
        }
      },
      id: {
        title: "Menu - Crispy Crown Fried Chicken",
        nav: { home: "Beranda", menu: "Menu", locations: "Lokasi", about: "Tentang", contact: "Kontak", cart: "Keranjang", login: "Masuk", account: "Akun" },
        menu: {
          title: "Menu Kami",
          filter: { all: "Semua", buckets: "Bucket", burger: "Burger", sides: "Sampingan", drinks: "Minuman" },
          add: "Tambah ke Keranjang",
          halalBadge: "Halal",
          calories: "Kalori"
        },
        toast: {
          added: "Berhasil ditambahkan ke keranjang"
        }
      }
    };

    const menuItems = [
      {
        id: "royal-bucket",
        category: "buckets",
        name: { en: "Royal Bucket (8 pcs)", id: "Royal Bucket (8 pcs)" },
        priceIDR: 89000,
        priceUSD: 6.5,
        imgUrl: "https://images.unsplash.com/photo-1604908177522-bb4a0c78c6f1b?auto=format&fit=crop&w=400&q=80",
        calories: 1600,
        halal: true
      },
      {
        id: "crown-chicken-burger",
        category: "burger",
        name: { en: "Crown Chicken Burger", id: "Crown Chicken Burger" },
        priceIDR: 39000,
        priceUSD: 2.9,
        imgUrl: "https://images.unsplash.com/photo-1550547660-d9450f859349?auto=format&fit=crop&w=400&q=80",
        calories: 550,
        halal: true
      },
      {
        id: "golden-fries",
        category: "sides",
        name: { en: "Golden Fries", id: "Kentang Goreng Emas" },
        priceIDR: 19000,
        priceUSD: 1.4,
        imgUrl: "https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=400&q=80",
        calories: 320,
        halal: true
      },
      {
        id: "iced-tea",
        category: "drinks",
        name: { en: "Iced Tea", id: "Teh Es" },
        priceIDR: 12000,
        priceUSD: 0.9,
        imgUrl: "https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=400&q=80",
        calories: 90,
        halal: true
      }
    ];

    function formatIDR(num) {
      return 'Rp' + num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, '.');
    }
    function formatUSD(num) {
      return '$' + num.toFixed(2);
    }

    function showToast(message) {
      let toast = document.createElement('div');
      toast.textContent = message;
      toast.style.position = 'fixed';
      toast.style.bottom = '20px';
      toast.style.left = '50%';
      toast.style.transform = 'translateX(-50%)';
      toast.style.background = '#D12D2D';
      toast.style.color = '#fff';
      toast.style.padding = '0.75rem 1.5rem';
      toast.style.borderRadius = '30px';
      toast.style.boxShadow = '0 4px 12px rgba(209,45,45,0.7)';
      toast.style.zIndex = '9999';
      toast.style.userSelect = 'none';
      toast.style.fontWeight = '600';
      toast.style.fontSize = '1rem';
      document.body.appendChild(toast);
      setTimeout(() => {
        toast.style.transition = 'opacity 0.5s ease';
        toast.style.opacity = '0';
        setTimeout(() => document.body.removeChild(toast), 500);
      }, 2000);
    }

    const langIdBtn = document.getElementById('lang-id');
    const langEnBtn = document.getElementById('lang-en');
    let currentLang = 'id';

    function setLang(lang) {
      if (!translations[lang]) return;
      currentLang = lang;
      localStorage.lang = lang;
      langIdBtn.classList.toggle('active', lang === 'id');
      langEnBtn.classList.toggle('active', lang === 'en');
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        const keys = key.split('.');
        let text = translations[lang];
        for (const k of keys) {
          if (text && k in text) text = text[k];
          else { text = null; break; }
        }
        if (text !== null && text !== undefined) {
          if (el.tagName.toLowerCase() === 'input' || el.tagName.toLowerCase() === 'textarea') {
            el.placeholder = text;
          } else {
            el.textContent = text;
          }
        }
      });
      renderMenuItems();
      updateLoginAccountLink();
    }

    (function detectLang() {
      const stored = localStorage.lang;
      if (stored && (stored === 'id' || stored === 'en')) {
        setLang(stored);
      } else {
        const navLang = navigator.language || navigator.userLanguage || '';
        setLang(navLang.toLowerCase().includes('id') ? 'id' : 'en');
      }
    })();

    langIdBtn.addEventListener('click', () => setLang('id'));
    langEnBtn.addEventListener('click', () => setLang('en'));
    langIdBtn.addEventListener('keydown', e => { if(e.key==='Enter' || e.key===' ') { e.preventDefault(); setLang('id'); } });
    langEnBtn.addEventListener('keydown', e => { if(e.key==='Enter' || e.key===' ') { e.preventDefault(); setLang('en'); } });

    // Burger menu for mobile
    const burger = document.querySelector('.burger');
    const navMobile = document.querySelector('.nav-mobile');
    burger.addEventListener('click', () => navMobile.classList.toggle('show'));
    burger.addEventListener('keydown', e => { if(e.key==='Enter' || e.key===' ') { e.preventDefault(); navMobile.classList.toggle('show'); } });

    // Populate mobile nav links
    function populateMobileNav() {
      const navLinks = document.querySelectorAll('nav a');
      nav
